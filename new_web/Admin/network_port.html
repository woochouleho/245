
<html><head>
	<title>H854AX</title>
	<meta http-equiv='Pragma' content='no-cache'>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<meta name="viewport" content="width=device-width, user-scalable=0, initial-scale=1, minimum-scale=1, maximum-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<meta name="description" content=""/>
	<meta name="keywords" content=""/>
	<link rel="stylesheet" href="css/common.css"/>
	<script type="text/javascript" src="js/jquery-1.11.2.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/modernizr.custom.39786.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/response.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/icheck.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/sb_common.js" charset="utf-8"></script>
	<script language="javascript" src="js/util.js"></script>
	<script language="javascript" src="js/popup.js"></script>
<script language="javascript">

/*
var port_list=[
["lan0","enable","Up","1G","Full",0,0],
["lan1","enable","Up","1G","Full",1,1],
["lan2","enable","Up","1G","Full",1,1],
["lan3","enable","Up","1G","Full",1,1],
["lan4","enable","Up","1G","Full",1,1],
];


var port_list = [
[ "lan0",  "enabled",  "Disabled",  "1000",  "Full",0,0],
[ "lan1",  "enabled",  "Up",  "1000",  "Full",0,0],
[ "lan2",  "enabled",  "Disabled",  "Auto",  "Auto",0,0],
[ "lan3",  "enabled",  "Disabled",  "1000",  "Full",0,0]];


var port_list_setting = [
[1, 2, 4, 1, 0],
[1, 2, 4, 1, 0],
[1, 2, 4, 1, 0],
[1, 1, 9, 2, 0],
];

var port_limit = [
[ 0, 0, 0],
[ 0, 0, 0],
[ 0, 0, 0],
[ 0, 0, 0],
[ 0, 0, 0]];

var port_count= [ 0, 0, 0, 0];

var port_phy_speed = [ 2500, 2500, 1000, 1000, 1000];

*/

var port_list = [
[ "lan4",  "Enabled",  "Up",  "2",  "1000",  "Full",0,0],
[ "lan0",  "Enabled",  "Down",  "2",  "Auto",  "Auto",0,1],
[ "lan1",  "Enabled",  "Down",  "2",  "Auto",  "Auto",0,1],
[ "lan2",  "Enabled",  "Up",  "2",  "1000",  "Full",0,1],
[ "lan3",  "Enabled",  "Down",  "2",  "Auto",  "Auto",0,1]];

var port_list_setting = [
[ 1,  2,  0,  2,  2 ],
[ 1,  2,  6,  2,  3 ],
[ 1,  2,  6,  2,  3 ],
[ 1,  2,  6,  2,  3 ],
[ 1,  2,  6,  2,  3 ]];

var port_phy_speed = [ 10000, 1000, 1000, 1000, 10000];


var cur_user    = 'admin';
var wan_port = 0 ;

function change_port() {
	var change_p = document.forms[0].port_name.value;

	document.forms[0].port_enable.value = port_list_setting[change_p][0];

	if (change_p == wan_port)
	{
		document.forms[0].port_enable.value = 1;
		document.forms[0].port_enable.options[1].disabled=true;
	} else
		document.forms[0].port_enable.options[1].disabled=false;

	/* show port speed select */
	if (port_phy_speed[change_p] == 10) { //10M
		document.forms[0].port_speed_duplex.options[0].disabled=false; //autonego
		document.forms[0].port_speed_duplex.options[1].disabled=true; //10G/Full
		document.forms[0].port_speed_duplex.options[2].disabled=true; //5G/Full
		document.forms[0].port_speed_duplex.options[3].disabled=true; //2.5G/Full
		document.forms[0].port_speed_duplex.options[4].disabled=true; //1G/Full
		document.forms[0].port_speed_duplex.options[5].disabled=true; //100M Full
		document.forms[0].port_speed_duplex.options[6].disabled=true; //100M Half
		document.forms[0].port_speed_duplex.options[7].disabled=false; //10M Full
		document.forms[0].port_speed_duplex.options[8].disabled=false; //10M Half
	} else if (port_phy_speed[change_p] == 100) { //100M
		document.forms[0].port_speed_duplex.options[0].disabled=false; //autonego
		document.forms[0].port_speed_duplex.options[1].disabled=true; //10G/Full
		document.forms[0].port_speed_duplex.options[2].disabled=true; //5G/Full
		document.forms[0].port_speed_duplex.options[3].disabled=true; //2.5G/Full
		document.forms[0].port_speed_duplex.options[4].disabled=true; //1G/Full
		document.forms[0].port_speed_duplex.options[5].disabled=false; //100M Full
		document.forms[0].port_speed_duplex.options[6].disabled=false; //100M Half
		document.forms[0].port_speed_duplex.options[7].disabled=false; //10M Full
		document.forms[0].port_speed_duplex.options[8].disabled=false; //10M Half
	} else if (port_phy_speed[change_p] == 1000) { //1g
		document.forms[0].port_speed_duplex.options[0].disabled=false; //autonego
		document.forms[0].port_speed_duplex.options[1].disabled=true; //10G/Full
		document.forms[0].port_speed_duplex.options[2].disabled=true; //5G/Full
		document.forms[0].port_speed_duplex.options[3].disabled=true; //2.5G/Full
		document.forms[0].port_speed_duplex.options[4].disabled=false; //1G/Full
		document.forms[0].port_speed_duplex.options[5].disabled=false; //100M Full
		document.forms[0].port_speed_duplex.options[6].disabled=false; //100M Half
		document.forms[0].port_speed_duplex.options[7].disabled=false; //10M Full
		document.forms[0].port_speed_duplex.options[8].disabled=false; //10M Half
	} else if (port_phy_speed[change_p] == 2500) { //2.5g
		document.forms[0].port_speed_duplex.options[0].disabled=false; //autonego
		document.forms[0].port_speed_duplex.options[1].disabled=true; //10G/Full
		document.forms[0].port_speed_duplex.options[2].disabled=true; //5G/Full
		document.forms[0].port_speed_duplex.options[3].disabled=false; //2.5G/Full
		document.forms[0].port_speed_duplex.options[4].disabled=false; //1G/Full
		if (change_p == wan_port) { // for H914G
			document.forms[0].port_speed_duplex.options[5].disabled=true; //100M Full
			document.forms[0].port_speed_duplex.options[6].disabled=true; //100M Half
		}
		else {
			document.forms[0].port_speed_duplex.options[5].disabled=false; //100M Full
			document.forms[0].port_speed_duplex.options[6].disabled=false; //100M Half
		}
		document.forms[0].port_speed_duplex.options[7].disabled=true; //10M Full
		document.forms[0].port_speed_duplex.options[8].disabled=true; //10M Half
	} else if (port_phy_speed[change_p] == 5000) { //5g
		document.forms[0].port_speed_duplex.options[0].disabled=false; //autonego
		document.forms[0].port_speed_duplex.options[1].disabled=true; //10G/Full
		document.forms[0].port_speed_duplex.options[2].disabled=true; //5G/Full
		document.forms[0].port_speed_duplex.options[3].disabled=false; //2.5G/Full
		document.forms[0].port_speed_duplex.options[4].disabled=false; //1G/Full
		document.forms[0].port_speed_duplex.options[5].disabled=true; //100M Full
		document.forms[0].port_speed_duplex.options[6].disabled=true; //100M Half
		document.forms[0].port_speed_duplex.options[7].disabled=true; //10M Full
		document.forms[0].port_speed_duplex.options[8].disabled=true; //10M Half
	} else if (port_phy_speed[change_p] == 10000) { //10g
		document.forms[0].port_speed_duplex.options[0].disabled=false; //autonego
		document.forms[0].port_speed_duplex.options[1].disabled=false; //10G/Full
		document.forms[0].port_speed_duplex.options[2].disabled=true; //5G/Full
		document.forms[0].port_speed_duplex.options[3].disabled=false; //2.5G/Full
		document.forms[0].port_speed_duplex.options[4].disabled=false; //1G/Full
		document.forms[0].port_speed_duplex.options[5].disabled=true; //100M Full
		document.forms[0].port_speed_duplex.options[6].disabled=true; //100M Half
		document.forms[0].port_speed_duplex.options[7].disabled=true; //10M Full
		document.forms[0].port_speed_duplex.options[8].disabled=true; //10M Half
	}

	/* speed-duplex */
	if (change_p == wan_port) {
		if (port_list_setting[change_p][2] == 0) {
			document.forms[0].port_speed_duplex.value = 0;	/* auto nego*/
		} else if (port_list_setting[change_p][2] == 1  && port_list_setting[change_p][3] == 2) {
			document.forms[0].port_speed_duplex.value = 7	/* 10M/Full */
		} else if (port_list_setting[change_p][2] == 1  && port_list_setting[change_p][3] == 1) {
			document.forms[0].port_speed_duplex.value = 8	/* 10M/Half */
		} else if (port_list_setting[change_p][2] == 2  && port_list_setting[change_p][3] == 2) {
			document.forms[0].port_speed_duplex.value = 5	/* 100M/Full */
		} else if (port_list_setting[change_p][2] == 2  && port_list_setting[change_p][3] == 1) {
			document.forms[0].port_speed_duplex.value = 6	/* 100M/Half */
		} else if (port_list_setting[change_p][2] == 6 ) {
			document.forms[0].port_speed_duplex.value = 4	/* 1G  */
		} else if (port_list_setting[change_p][2] == 7) {
			document.forms[0].port_speed_duplex.value = 3	/* 2.5G */
		} else if (port_list_setting[change_p][2] == 8) {
			document.forms[0].port_speed_duplex.value = 2;	/* 5G */
		} else if (port_list_setting[change_p][2] == 9) {
			document.forms[0].port_speed_duplex.value = 1;	/* 10G */
		}
	} else {
		if (port_list_setting[change_p][1] == 2) {
			document.forms[0].port_speed_duplex.value = 0;	/* auto nego*/
		} else if (port_list_setting[change_p][2] == 1  && port_list_setting[change_p][3] == 2) {
			document.forms[0].port_speed_duplex.value = 7	/* 10M/Full */
		} else if (port_list_setting[change_p][2] == 1  && port_list_setting[change_p][3] == 1) {
			document.forms[0].port_speed_duplex.value = 8	/* 10M/Half */
		} else if (port_list_setting[change_p][2] == 2  && port_list_setting[change_p][3] == 2) {
			document.forms[0].port_speed_duplex.value = 5	/* 100M/Full */
		} else if (port_list_setting[change_p][2] == 2  && port_list_setting[change_p][3] == 1) {
			document.forms[0].port_speed_duplex.value = 6	/* 100M/Half */
		} else if (port_list_setting[change_p][2] == 6 ) {
			document.forms[0].port_speed_duplex.value = 4	/* 1G  */
		} else if (port_list_setting[change_p][2] == 7) {
			document.forms[0].port_speed_duplex.value = 3	/* 2.5G */
		} else if (port_list_setting[change_p][2] == 8) {
			document.forms[0].port_speed_duplex.value = 2;	/* 5G */
		} else if (port_list_setting[change_p][2] == 9) {
			document.forms[0].port_speed_duplex.value = 1;	/* 10G */
		}
	}

	/* flow-control */
	if(port_list_setting[change_p][4] == 0  ) {
		document.forms[0].port_pause_rx.value = 0 ;
		document.forms[0].port_pause_tx.value = 0 ;
	} else if (port_list_setting[change_p][4] == 2 ) {
		document.forms[0].port_pause_rx.value = 1 ;
		document.forms[0].port_pause_tx.value = 1 ;
	} else if(port_list_setting[change_p][4] == 3 ) {
		document.forms[0].port_pause_rx.value = 0 ;
		document.forms[0].port_pause_tx.value = 1 ;
	}else if(port_list_setting[change_p][4] == 4 ) {
		document.forms[0].port_pause_rx.value = 1 ;
		document.forms[0].port_pause_tx.value = 0 ;
	}
}

function check_port_limit() {
	var n = 0;
	var str_down = "";
	var str_up = "";

	for ( n = 0; n < port_limit.length ; n++)
	{
		str_down = "port_limit_down_"+n;
		str_up = "port_limit_up_"+n;

		if(isNaN(parseInt(document.getElementById(str_down).value))) {
			webAlert('(port limit down)유효하지 않은 숫자입니다');
			return false;
		}else if( parseInt(document.getElementById(str_down).value) < 0) {
			webAlert('(port limit down) 0 보다 작은 숫자는 사용할수 없습니다');
			return false;
		}

		if( isNaN( parseInt(document.getElementById(str_up).value))) {
			webAlert('(port limit up)유효하지 않은 숫자입니다');
			return false;
		}else if( parseInt(document.getElementById(str_up).value) < 0) {
			webAlert('(port limit up)0 보다 작은 숫자는 사용할수 없습니다');
			return false;
		}
	} /* end for */

	return true;
}

function check_port_count() {
	var n = 0;
	var str_count = "";


	for ( n = 0; n < port_limit.length ; n++)
	{
		str_count = "port_maxhost_count_"+n;

		if(isNaN(parseInt(document.getElementById(str_count).value))) {
			webAlert('MAC 제한 개수 - 유효하지 않은 숫자입니다');
			return false;
		}

		if (parseInt(document.getElementById(str_count).value) >= 5) {
			webAlert('MAC 제한 개수 - 유효하지 않은 숫자입니다. MAC 제한 개수(0 제한없음, 1~4개)');
			return false;
		}
	}

	return true;
}

function btnApplySave(save_type) {
	var loc = 'network_port.cgi?';
	var jumbosize = parseInt(document.forms[0].framesize.value);
	var code;

	switch(save_type) {
		case 0:
			loc += 'wv_network_port_action=port';
			loc += "&wv_eth_port_number="+document.forms[0].port_name.value;
			loc += "&wv_eth_port_admin="+document.forms[0].port_enable.value;
			loc += "&wv_eth_port_speed_duplex="+document.forms[0].port_speed_duplex.value;

			if(document.forms[0].port_pause_rx.value == "0" && document.forms[0].port_pause_tx.value =="0")
				loc += "&wv_eth_port_flow=0";
			else if(document.forms[0].port_pause_rx.value == "1" && document.forms[0].port_pause_tx.value =="0")
				loc += "&wv_eth_port_flow=4";
			else if(document.forms[0].port_pause_rx.value == "0" && document.forms[0].port_pause_tx.value =="1")
				loc += "&wv_eth_port_flow=3";
			else if(document.forms[0].port_pause_rx.value == "1" && document.forms[0].port_pause_tx.value =="1")
				loc += "&wv_eth_port_flow=2";
			break;

		case 1:
			if(isNaN(jumbosize)) {
				webAlert('유효하지 않은 숫자입니다');
				return false;
			}

			if(jumbosize < 1500 || jumbosize > 2000) {
				webAlert('유효하지 않은 프레임 크기 입니다 1532 ~ 2000');
				return false;
			}
			loc += 'wv_network_port_action=jumbo';
			loc += "&wv_framesize="+document.forms[0].framesize.value;
			break;

		default:
			 return;
	}

	loc += '&sessionKey=' +936574027;
	code = 'location="' + loc + '"';
	eval(code);

	return;
}

function btnEnable(){
	if(document.forms[0].frame_check.value == 1) {
		document.forms[0].framesize.disabled      = false;
		document.forms[0].framesize.value         = "1500";
	} else {
		document.forms[0].framesize.disabled      = true;
		document.forms[0].framesize.value         = "1500";
	}
}

function frmLoad() {
	change_port();

	if(cur_user != "admin") {
		document.getElementById('w_jumbo_setting').style.display = "";
		document.forms[0].framesize.value ="1500";

		if(document.forms[0].framesize.value == "1500") {
			document.forms[0].frame_check.value       = 0;
			document.forms[0].framesize.disabled      = true;
		} else {
			document.forms[0].frame_check.value       = 1;
			document.forms[0].framesize.disabled      = false;
		}
	}
	else {
		document.getElementById('w_jumbo_setting').style.display = "none";
	}
}

function frmReload() {
	document.location.reload();
	return;
}
</script>
</head>
<body onload="frmLoad()">

<script language="javascript">
showmenubar();
</script>

<form>
<div class="container">
	<div class="navi clfx">
		<ul class="clfx">
			<li><img src="img/navi_home.png" alt="home" /><span>Home </span></li>
			<li>네트워크 </li>
			<li>유선포트 설정</li>
		</ul>
	</div>
	<h1 class="title_style_1">유선포트 설정</h1>

	<p> WAN / LAN 포트 링크정보를 설정합니다. </p>
	<hr>

	<h2 class="title_style_2">연결 상태</h2>
	<div class="tb_style_1 scroll">
		<table>
			<colgroup>
				<col />
				<col />
				<col />
				<col />
				<col />
				<col />
				<col />
				<col />
			</colgroup>
			<thead>
				<tr>
					<th scope="col"><center>포트 이름</center></th>
					<th scope="col"><center>활성화</center></th>
					<th scope="col"><center>링크 상태</center></th>
					<th scope="col"><center>AutoNego</center></th>
					<th scope="col"><center>Speed</center></th>
					<th scope="col"><center>Duplex</center></th>
					<th scope="col"><center>Rx Pause</center></th>
					<th scope="col"><center>Tx Pause</center></th>
				</tr>
			</thead>
				<tbody>
					<script language="javascript">
					var i =0;
					var port_n = 0;
					for( i =0 ; i<port_list.length; i++)
					{
							//port_n = i+ 1;

							// execpet eth0
							port_n = i;

							document.write('<tr>\n');
							document.write('<td>\n');

							if( i == wan_port)
								document.write("WAN");
							else
								document.write("LAN"+port_n);

							document.write('</td>\n');
							document.write('<td>\n');

							if(port_list[i][1] == "Enabled")
								document.write("활성화");
							else
								document.write("비활성화");

							document.write('</td>\n');
							document.write('<td>\n');

							document.write(port_list[i][2]);

							document.write('</td>\n');
							document.write('<td>\n');

							if(port_list[i][2] == "Up") {
								if(port_list[i][3] == "2")
									document.write("On");
								else
									document.write("Off");
							}

							document.write('</td>\n');
							document.write('<td>\n');

							if(port_list[i][2] == "Up")
							{
								if(port_list[i][4] == "10")
									document.write("10M");
								else if(port_list[i][4] == "100")
									document.write("100M");
								else if(port_list[i][4]  == "1000")
									document.write("1G");
								else if(port_list[i][4]  == "2500")
									document.write("2.5G");
								else if(port_list[i][4]  == "5000")
									document.write("5G");
								else if(port_list[i][4]  == "10000")
									document.write("10G");
								else
									document.write("---");
							}
							else
							{
								document.write("---");
							}


							document.write('</td>\n');
							document.write('<td>\n');

							if(port_list[i][2] == "Up")
								document.write(port_list[i][5]);
							else
								document.write("---");

							document.write('</td>\n');
							document.write('<td>\n');

							/* Rx Pause */
							if ( port_list[i][6] == 1)
								document.write("활성화");
							else
								document.write("비활성화");

							document.write('</td>\n');
							document.write('<td>\n');

							/* Tx Pause */
							if ( port_list[i][7] == 1)
								document.write("활성화");
							else
								document.write("비활성화");

							document.write('</td>\n');
							document.write('</tr>\n');
					}
				</script>
			</tbody>
		</table>
	</div>

    <div class="txt_c">
		<input type="button"  onclick="frmReload()" value="새로고침" class="basic-btn01 btn-gray-bg2 mr_20" >
	</div>
	


	<br>

	<h2 class="title_style_2">포트 설정</h2>
	<div class="tb_style_1 scroll">
		<table>
			<colgroup>
				<col />
				<col />
				<col />
				<col />
				<col />
				<col />
			</colgroup>
			<thead>
				<tr>
					<th scope="col"><center>포트 이름</center></th>
					<th scope="col"><center>활성화</center></th>
					<th scope="col"><center>Speed & Duplex</center></th>
					<th scope="col"><center>Rx Pause</center></th>
					<th scope="col"><center>Tx Pause</center></th>
					<th scope="col"><center>설정 및 리셋</center></th>
				</tr>
			</thead>
				<tbody>
					<tr>
						<td>
							<select name="port_name" id="port_name" onchange="change_port()">
							<script language="javascript">
								i =0;
								port_n = 0;
								for(i = 0; i<port_list.length; i++)
								{
										//port_n = i+1;

										// execpet eth0
										port_n = i;
									if( i == wan_port)
										document.write('<option value='+ i +'>WAN</option>\n');
									else
										document.write('<option value='+ i +'>LAN'+port_n+'</option>\n');
								}
							</script>
							</select>
						</td>
						<td>
							<select name="port_enable" id="port_enable">
								<option value='1' selected>활성화</option>
								<option value='2'>비활성화</option>
							</select>
						</td>
						<td>
							<select name="port_speed_duplex" id="port_speed_duplex">
								<option value="0" selected>Auto Negotiation</option>
								<option value="1">10G/Full Duplex</option>
								<option value="2">5G/Full Duplex</option>
								<option value="3">2.5G/Full Duplex</option>
								<option value="4">1G/Full Duplex</option>
								<option value="5">100M/Full Duplex</option>
								<option value="6">100M/Half Duplex</option>
								<option value="7">10M/Full Duplex</option>
								<option value="8">10M/Half Duplex</option>
							</select>
						</td>
						<td>
							<select name="port_pause_rx" id="port_pause_rx">
								<option value='1' >활성화</option>
								<option value='0' selected>비활성화</option>
							</select>
						</td>
						<td>
							<select name="port_pause_tx" id="port_pause_tx">
								<option value='1' >활성화</option>
								<option value='0' selected>비활성화</option>
							</select>
						</td>
						<td>
							<input type="button" onclick="btnApplySave(0)" value="적용" class="basic-btn01 btn-blue-bg" >
						</td>
					</tr>
				</tbody>
		</table>
	</div>

	<div id="w_jumbo_setting" name="w_jumbo_setting" style="display:none">
		<h2 class="title_style_2">점보 프레임 설정</h2>
		<div class="tb_style_2">
			<table>
				<colgroup>
					<col style="width:20%;" />
					<col style="" />
				</colgroup>
				<tbody>
					<tr>
						<th scope="col"><center>점보프레임 사용</center></th>
						<td>
							<select id="frame_check" name="frame_check" onchange='btnEnable()'>
								<option value="0">비활성화</option>
								<option value="1">활성화</option>
							</select>
						</td>
					</tr>
					<tr>
						<th scope="col"><center>프레임 크기</center></th>
						<td><input type="text" name="framesize" id="framesize", style="width:40%"></td>
					</tr>
				</tbody>
			</table>
		</div>
	
		<div class="txt_c">
			<input type="button"  onclick="btnApplySave(1)" value="적용" class="basic-btn01 btn-blue-bg" >
		</div>
	</div>

	<br>

		<h2 class="title_style_2">기가 라이트 설정</h2>
		<div class="tb_style_2">
			<table>
				<colgroup>
					<col style="width:20%;" />
					<col style="" />
				</colgroup>
				<tbody>
					<tr>
						<th scope="col"><center>기가 라이트 사용</center></th>
						<td>
							<select id="frame_check" name="frame_check" onchange='btnEnable()' disabled='true'>
								<option value="0">비활성화</option>
								<option value="1">활성화</option>
							</select>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	<div class="txt_c">
		<input type="button"  onclick="btnApplySave(1)" value="적용" class="basic-btn01 btn-blue-bg"  disabled='true'>
	</div>		
</div>
</form>
</body>
</html>
